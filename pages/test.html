<html>

<head>
  <script src="https://www.gstatic.com/firebasejs/7.22.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.22.0/firebase-database.js"></script>
  <script>
    // Initialize Firebase
    var firebaseConfig = {
      apiKey: "AIzaSyBsmJrwR4TiIIezxC94aGF4-Cdb7RppUhY",
      authDomain: "smartdoorit5102-d53ff.firebaseapp.com",
      databaseURL: "https://smartdoorit5102-d53ff-default-rtdb.firebaseio.com",
      projectId: "smartdoorit5102-d53ff",
      storageBucket: "smartdoorit5102-d53ff.appspot.com",
      messagingSenderId: "735550711784",
      appId: "1:735550711784:web:fe4dea8899f8f1007ee65d"
    };
    firebase.initializeApp(firebaseConfig);

    var database = firebase.database();
    var nameRef = database.ref("admin/name");

    // Get name from Firebase and store it in session storage
    nameRef.on("value", function (snapshot) {
      sessionStorage.setItem("name", snapshot.val());
      displayName();
    });

    // Display name from session storage
    function displayName() {
      var name = sessionStorage.getItem("name");
      document.getElementById("nameContainer").innerHTML = '<span id="name">' + name + '</span><button id="editButton" onclick="editName()">Edit</button>';
    }

    // Edit name
    function editName() {
      var name = sessionStorage.getItem("name");
      document.getElementById("nameContainer").innerHTML = '<input id="nameInput" type="text" value="' + name + '"><button onclick="updateName()">Update</button>';
    }

    // Update name in Firebase and session storage
    function updateName() {
      var name = document.getElementById("nameInput").value;
      nameRef.set(name);
      sessionStorage.setItem("name", name);
      displayName();
    }
  </script>
</head>

<body>
  <div id="nameContainer"></div>
</body>

</html>